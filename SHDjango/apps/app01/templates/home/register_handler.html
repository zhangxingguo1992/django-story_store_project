{% extends 'base.html' %}

{#{% block js %}#}
{#<script type="text/javascript">#}
{#    var countdown = 60;#}
{#    function settime(obj){#}
{#        if (countdown==0){#}
{#    obj.removeAttribute('disabled');#}
{#    obj.value = '免费获取验证码';#}
{#    countdown = 60;#}
{#    return;#}
{#    }else{#}
{#    obj.setAttribute("disabled", true);#}
{#    obj.value="重新发送(" + countdown + ")";#}
{#     countdown--;#}
{#    }#}
{#    setTimeout(function() {#}
{#        settime(obj) }#}
{#    ,1000)#}
{#    }#}
{#</script>#}
{##}
{#    <script>#}
{#  $('#forcode').click(function () {#}
{#    $.ajax({#}
{#      cache:false,#}
{#      type:"POST",#}
{#      url:"{% url 'users:forcode' %}",#}
{#      data:{#}
{#        csrfmiddlewaretoken:$('[name="csrfmiddlewaretoken"]').val(),#}
{#        mobile:$("#mobile").val()#}
{#      },#}
{#      async:true,#}
{#      success:function (data) {#}
{#        alert(data)#}
{#      }#}
{#    })#}
{#  })#}
{#</script>#}
{#{% endblock %}#}


{% block css %}
<link rel="stylesheet" href="/static/base/css/msg_style.css">
{% endblock %}

{% block content %}
<div class="container" style="margin-top:76px">
    <div class="row">
        <div class="col-md-12">
            <div class="panel panel-info">
                <div class="panel-heading">
                    <h3 class="panel-title"><span class="glyphicon glyphicon-list-alt"></span>&nbsp;会员注册</h3>
                </div>
                <div class="panel-body">

                    <form action="{% url 'user_register' %}" method="post" class="smart-green">
                        <h1>用户注册</h1>

{#                         导入表单#}
                        {{ form.as_p }}
                        {% if messages %}
                            <ul>
                            {% for msg in messages %}
                                <li style="color: red">{{msg.message}}</li>
                            {% endfor %}
                            </ul>
                        {% endif %}
{#                        <label for="username">用户名</label>#}
{#                        {{ form.username }}#}
{#                        <span style="color: red">{{ form.username.errors }}</span>#}
{#                        <label for="password">密码</label>#}
{#                        {{ form.password }}#}
{#                        <span style="color: red">{{ form.password.errors }}</span>#}
{#                        <label for="password">密码</label>#}
{#                        {{ form.pwd_again }}#}
{#                        <span style="color: red">{{ form.pwd_again.errors }}</span>#}
{#                        <label for="mobile">手机号码</label>#}
{#                            <div class="col-lg-10">#}
{#                                <div class="input-grou m-bot15">#}
{#                                    <input type="text" class="form-control" id="mobile" name="mobile" placeholder="手机号码">#}
{#                                        <span class="input-group-btn">#}
{#                                            <input type="button" id="forcode" onclick="settime(this)" value="免费获取验证码" class="btn btn-success">#}
{#                                        </span>#}
{#                                </div>#}
{#                            </div>#}
{##}
{##}
{#                        <label for="email">邮箱</label>#}
{#                        {{ form.email }}#}
{#                        <span style="color: red">{{ form.email.errors }}</span>#}


                    <div class="success-msg"></div>
                        <label>
                            <span>&nbsp;</span>
                            <input type="submit" class="button" value="提交注册"/>
                        </label>

                        <label>
                            <span>已有账号？请点击 <a href='/app/login/'>登录</a></span>
                        </label>

                    </form>

                </div>
            </div>
        </div>

    </div>
</div>
<!--内容-->


{% endblock %}

